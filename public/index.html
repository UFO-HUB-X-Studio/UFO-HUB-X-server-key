<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>UFO HUB X ‚Äî Key Portal</title>
<style>
  :root{
    --bg:#0e1721;
    --card:#101a26;
    --card-2:#0f1924;
    --muted:#9fb2c5;
    --text:#e7eef7;
    --brand:#00ff8c;
    --brand-dark:#00c169;
    --accent:#2b3c53;
    --danger:#ff5a6a;
    --ok:#28c76f;
    --warn:#ffb02e;
  }
  *{box-sizing:border-box}
  html,body{height:100%}
  body{
    margin:0; font-family:Inter,system-ui,Segoe UI,Roboto,Arial,sans-serif;
    background: var(--bg) no-repeat center/cover fixed;
    color:var(--text);
  }
  /* background image */
  body::before{
    content:"";
    position:fixed; inset:0;
    background:url("https://cdn.discordapp.com/attachments/1417098355388973154/1417560780110434446/file_00000000385861fab9ee0612cc0dca89.png") center/cover no-repeat;
    opacity:.25; filter:saturate(0.9) brightness(0.9);
    z-index:-1;
  }
  .wrap{max-width:980px; margin:28px auto; padding:0 16px}
  .topcard{
    background:linear-gradient(180deg, rgba(255,255,255,.04), rgba(255,255,255,.02));
    border:1px solid rgba(255,255,255,.08);
    border-radius:18px; padding:18px 18px 14px; position:relative;
    box-shadow: 0 10px 30px rgba(0,0,0,.35);
    backdrop-filter: blur(6px);
  }
  .row{display:flex; align-items:center; gap:14px; flex-wrap:wrap}
  .title{
    display:flex; flex-direction:column; gap:2px; min-width:220px
  }
  .title b{font-size:22px; letter-spacing:.3px}
  .title small{color:var(--muted); letter-spacing:.3px}
  .spacer{flex:1}
  .progress{
    display:flex; flex-direction:column; gap:8px; min-width:220px; width:280px
  }
  .bar{
    height:8px; background:#07121b; border-radius:999px; overflow:hidden; border:1px solid rgba(255,255,255,.06)
  }
  .bar>i{display:block; height:100%; width:0%; background:linear-gradient(90deg,var(--brand),#6effb8); transition:width .35s ease}
  .btn{
    appearance:none; border:none; border-radius:12px; padding:12px 18px;
    font-weight:700; cursor:pointer; color:#02120a; background:var(--ok);
    box-shadow:0 6px 16px rgba(40,199,111,.25);
  }
  .btn.secondary{background:#223142; color:var(--text); box-shadow:none; border:1px solid rgba(255,255,255,.08)}
  .btn:disabled{opacity:.6; cursor:not-allowed}
  .card{
    margin-top:16px; background:var(--card); border:1px solid rgba(255,255,255,.06);
    border-radius:18px; padding:16px; box-shadow:0 8px 22px rgba(0,0,0,.25)
  }
  .subhead{
    display:flex; align-items:center; gap:16px; padding:12px 10px; color:var(--muted);
    font-size:14px; border-bottom:1px solid rgba(255,255,255,.06)
  }
  .list{display:flex; flex-direction:column}
  .rowkey{display:grid; grid-template-columns: 1.7fr 1fr .9fr .9fr; gap:12px; align-items:center; padding:12px 10px; border-bottom:1px dashed rgba(255,255,255,.06)}
  .rowkey:last-child{border-bottom:none}
  .kcell{display:flex; align-items:center; gap:10px}
  .copy{
    width:36px; height:36px; border-radius:10px; border:1px solid rgba(255,255,255,.08);
    display:inline-grid; place-items:center; background:var(--card-2); color:var(--text); cursor:pointer
  }
  .keybadge{
    display:inline-flex; align-items:center; gap:8px; padding:8px 12px; border-radius:999px;
    background:#0a1520; border:1px solid rgba(255,255,255,.08); color:#f7fffb; font-weight:600;
  }
  .keybadge i{color:#ffd24d}
  .badge{
    display:inline-flex; align-items:center; padding:6px 10px; border-radius:999px;
    font-weight:700; font-size:12px; letter-spacing:.3px
  }
  .active{background:rgba(40,199,111,.15); color:var(--ok); border:1px solid rgba(40,199,111,.35)}
  .danger{background:rgba(255,90,106,.15); color:var(--danger); border:1px solid rgba(255,90,106,.35)}
  .muted{color:var(--muted)}
  .actions{display:flex; gap:10px; align-items:center; justify-content:flex-start}
  .mini{padding:8px 12px; border-radius:10px; font-weight:700; background:#1a2636; color:var(--text); border:1px solid rgba(255,255,255,.08)}
  .grid2{display:grid; grid-template-columns:1fr auto; gap:12px; align-items:center}
  .profile{
    width:40px; height:40px; border-radius:50%; background:#123; overflow:hidden; border:1px solid rgba(255,255,255,.1)
  }
  .profile img{width:100%; height:100%; object-fit:cover}
  .ghost{opacity:.6}
  .inputs{display:flex; gap:8px; flex-wrap:wrap}
  .inp{
    background:#0b1722; border:1px solid rgba(255,255,255,.08); color:var(--text);
    padding:10px 12px; border-radius:10px; min-width:120px;
  }
  .footnote{margin-top:10px; color:var(--muted); font-size:12px}
  @media (max-width:720px){
    .rowkey{grid-template-columns:1.5fr 1fr .8fr 1fr}
    .progress{width:100%; min-width:unset}
  }
</style>
</head>
<body>
  <div class="wrap">

    <!-- TOP CARD -->
    <div class="topcard">
      <div class="row">
        <div class="profile"><img src="https://cdn.discordapp.com/attachments/1417098355388973154/1417560447279960194/20250916_152130.png" alt="profile"></div>
        <div class="title">
          <b>Speed<br>Hub X<br>Linkvertise</b>
        </div>
        <div class="spacer"></div>

        <div class="progress">
          <div class="grid2">
            <small class="muted">Progress: <span id="progress-text">0/2</span></small>
            <button id="startBtn" class="btn" onclick="onStart()">START</button>
          </div>
          <div class="bar"><i id="barFill" style="width:0%"></i></div>
        </div>
      </div>
    </div>

    <!-- KEYS LIST -->
    <div class="card">
      <div class="subhead">
        <div style="flex:1">YOUR KEYS (<span id="keyCount">0</span>/6)</div>
        <div style="width:25%">TIME LEFT</div>
        <div style="width:20%">STATUS</div>
        <div style="width:25%">ACTIONS</div>
      </div>

      <div id="list" class="list"></div>

      <div style="padding:14px 10px; display:flex; justify-content:center">
        <button class="btn secondary" onclick="requestKey()">Ôºã GET A NEW KEY</button>
      </div>

      <div class="inputs" style="padding:6px 10px 0">
        <input id="uid" class="inp" placeholder="UID (e.g. 123)" />
        <input id="place" class="inp" placeholder="Place (e.g. 999)" />
        <span class="footnote">‡∏Å‡∏£‡∏≠‡∏Å UID/Place ‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì ‡πÅ‡∏•‡πâ‡∏ß‡∏Å‡∏î ‚ÄúGET A NEW KEY‚Äù</span>
      </div>
    </div>

  </div>

<script>
  // ======================= CONFIG =======================
  const API_BASE = ""; // same origin; set to "https://your-domain" if API runs elsewhere

  // ======================= STATE ========================
  let keys = []; // [{key, expires_at, status:"active"|"expired"}]
  let progress = 0; // 0..2 (for header demo only)

  // ======================= UI HELPERS ===================
  function fmtLeft(sec){
    if (sec <= 0) return "00:00:00";
    const h = String(Math.floor(sec/3600)).padStart(2,"0");
    const m = String(Math.floor((sec%3600)/60)).padStart(2,"0");
    const s = String(sec%60).padStart(2,"0");
    return `${h}:${m}:${s}`;
  }
  function copy(text){
    navigator.clipboard.writeText(text).then(()=>toast("Copied!")).catch(()=>toast("Copy failed"));
  }
  function toast(msg){
    // lightweight toast
    const t = document.createElement("div");
    t.textContent = msg;
    t.style.cssText = "position:fixed;left:50%;bottom:30px;transform:translateX(-50%);background:#122130;color:#e7eef7;padding:10px 14px;border-radius:10px;border:1px solid rgba(255,255,255,.1);box-shadow:0 8px 20px rgba(0,0,0,.35);z-index:9999";
    document.body.appendChild(t);
    setTimeout(()=>{ t.style.opacity='0'; t.style.transition='opacity .25s'; },1200);
    setTimeout(()=>t.remove(),1600);
  }

  function redraw(){
    const list = document.getElementById("list");
    list.innerHTML = "";
    document.getElementById("keyCount").textContent = Math.min(keys.length, 6);
    keys.forEach((k, idx)=>{
      const left = Math.max(0, Math.floor(k.expires_at - Date.now()/1000));
      const row = document.createElement("div");
      row.className = "rowkey";

      // col1 key + copy
      const c1 = document.createElement("div");
      c1.className = "kcell";
      const copyBtn = document.createElement("button");
      copyBtn.className = "copy";
      copyBtn.innerHTML = "üìã";
      copyBtn.onclick = ()=>copy(k.key);
      const pill = document.createElement("span");
      pill.className = "keybadge";
      pill.innerHTML = `<i>üîë</i> <span>${k.key.slice(0,5)}‚Ä¶${k.key.slice(-5)}</span>`;
      c1.append(copyBtn, pill);

      // col2 time left
      const c2 = document.createElement("div");
      c2.className = "muted";
      c2.id = `left-${idx}`;
      c2.textContent = fmtLeft(left);

      // col3 status
      const c3 = document.createElement("div");
      const badge = document.createElement("span");
      badge.className = "badge " + (left>0 ? "active" : "danger");
      badge.textContent = left>0 ? "ACTIVE" : "EXPIRED";
      c3.appendChild(badge);

      // col4 actions
      const c4 = document.createElement("div");
      c4.className = "actions";
      const extend = document.createElement("button");
      extend.className = "mini";
      extend.textContent = "‚è≥ + 24H";
      extend.onclick = ()=>toast("‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö /extend (‡∏û‡∏£‡πâ‡∏≠‡∏°‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏Ñ‡∏∏‡∏ì‡∏°‡∏µ endpoint)");
      c4.appendChild(extend);

      row.append(c1,c2,c3,c4);
      list.appendChild(row);
    });
  }

  // countdown tick
  setInterval(()=>{
    keys = keys.map(it=>{
      if (!it.expires_at) return it;
      const left = Math.max(0, Math.floor(it.expires_at - Date.now()/1000));
      const idx = keys.indexOf(it);
      const label = document.getElementById(`left-${idx}`);
      if (label) label.textContent = fmtLeft(left);
      return it;
    });
  }, 1000);

  // header progress demo
  function setProgress(val){
    progress = Math.max(0, Math.min(2, val));
    document.getElementById("progress-text").textContent = `${progress}/2`;
    const pct = (progress/2)*100;
    document.getElementById("barFill").style.width = pct + "%";
    document.getElementById("startBtn").textContent = progress>=1 ? "NEXT" : "START";
  }
  function onStart(){
    setProgress(progress+1);
  }

  // ======================= API CALLS ====================
  async function requestKey(){
    const uid = document.getElementById("uid").value.trim();
    const place = document.getElementById("place").value.trim();
    if(!uid || !place){ toast("‡∏Å‡∏£‡∏≠‡∏Å UID ‡πÅ‡∏•‡∏∞ Place ‡∏Å‡πà‡∏≠‡∏ô"); return; }
    try{
      const res = await fetch(`${API_BASE}/getkey?uid=${encodeURIComponent(uid)}&place=${encodeURIComponent(place)}`);
      const data = await res.json();
      if(!data || !data.ok){ toast("getkey ‡∏•‡πâ‡∏°‡πÄ‡∏´‡∏•‡∏ß"); return; }
      if(data.key){
        keys = [{ key: data.key, expires_at: data.expires_at || (Date.now()/1000 + 600) }];
        redraw();
        toast("‡πÑ‡∏î‡πâ‡∏Ñ‡∏µ‡∏¢‡πå‡πÅ‡∏•‡πâ‡∏ß!");
      }else{
        toast("‡πÑ‡∏°‡πà‡∏°‡∏µ key ‡πÉ‡∏ô‡∏ï‡∏≠‡∏ö‡∏Å‡∏•‡∏±‡∏ö");
      }
    }catch(e){
      console.error(e);
      toast("‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠‡πÄ‡∏ã‡∏¥‡∏£‡πå‡∏ü‡πÄ‡∏ß‡∏≠‡∏£‡πå‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ");
    }
  }

  // initial state
  setProgress(0);
  redraw();
</script>
</body>
  </html>
