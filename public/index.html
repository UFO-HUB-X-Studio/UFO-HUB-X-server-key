<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>UFO HUB X ‚Äî Get Key</title>
  <style>
    :root{
      --accent:#00ff88; --bg:#000; --card:#0d0d0d; --muted:#b9b9b9;
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0; font-family:Inter,system-ui,Arial;
      background: radial-gradient(1200px 600px at 50% -10%, #012b1a 0%, #000 55%);
      color:#fff; display:grid; place-items:center; padding:24px;
    }
    .card{
      width:min(92vw,520px); background:var(--card);
      border:2px solid var(--accent); border-radius:18px;
      padding:28px 24px 26px; box-shadow:0 0 28px rgba(0,255,140,.25);
      transform: translateZ(0);
    }
    .title{
      display:flex; align-items:center; gap:12px; margin-bottom:10px;
    }
    .title .icon{font-size:28px}
    .title h1{margin:0; font-size:26px; letter-spacing:.5px}
    .subtitle{margin:2px 0 18px; color:var(--muted); font-size:14px}
    .btn{
      display:inline-flex; align-items:center; justify-content:center;
      gap:10px; width:100%; height:48px; border-radius:12px;
      border:2px solid var(--accent); background:var(--accent); color:#000;
      font-weight:800; letter-spacing:.2px; cursor:pointer; transition:.18s;
    }
    .btn:hover{filter:brightness(1.05)}
    .btn:active{transform:translateY(1px)}
    .keybox{margin-top:16px; background:#0a0a0a; border:1px solid #1f1f1f;
      border-radius:10px; padding:12px 14px; color:#deddde; font-family:ui-monospace,SFMono,Consolas,monospace;
      display:flex; align-items:center; justify-content:space-between; gap:10px;
    }
    .keytext{white-space:nowrap; overflow:hidden; text-overflow:ellipsis}
    .copy{border:1px solid var(--accent); color:var(--accent); background:transparent;
      border-radius:8px; height:36px; padding:0 12px; cursor:pointer;
    }
    .copy:active{transform:translateY(1px)}
    .muted{margin-top:12px; font-size:12px; color:#8d8d8d; text-align:center}
  </style>
</head>
<body>
  <div class="card">
    <div class="title">
      <div class="icon">üîë</div>
      <h1>UFO HUB X</h1>
    </div>
    <div class="subtitle">‡∏Å‡∏î‡∏õ‡∏∏‡πà‡∏°‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏£‡∏±‡∏ö‡∏Ñ‡∏µ‡∏¢‡πå‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô</div>

    <button class="btn" id="getBtn">Get Key</button>

    <div class="keybox" id="keyBox" style="display:none">
      <div class="keytext" id="keyText">loading‚Ä¶</div>
      <button class="copy" id="copyBtn">‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å</button>
    </div>

    <div class="muted">‡∏ñ‡πâ‡∏≤‡∏Å‡∏î‡πÅ‡∏•‡πâ‡∏ß‡πÄ‡∏á‡∏µ‡∏¢‡∏ö ‡∏£‡∏≠‡∏™‡∏±‡∏Å‡∏Ñ‡∏£‡∏π‡πà (‡∏ü‡∏£‡∏µ‡πÇ‡∏Æ‡∏™‡∏ï‡πå‡∏≠‡∏≤‡∏à‡∏õ‡∏•‡∏∏‡∏Å‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á ~50s)</div>
  </div>

  <script>
    const btn = document.getElementById('getBtn');
    const keyBox = document.getElementById('keyBox');
    const keyText = document.getElementById('keyText');
    const copyBtn = document.getElementById('copyBtn');

    btn.addEventListener('click', async () => {
      btn.disabled = true; btn.textContent = 'Generating‚Ä¶';
      try{
        const r = await fetch('/getkey', {cache:'no-store'});
        const d = await r.json();
        keyText.textContent = d.key || 'No key';
        keyBox.style.display = 'flex';
        btn.textContent = 'Get Key';
      }catch(e){
        keyText.textContent = 'Error: cannot fetch key';
        keyBox.style.display = 'flex';
        btn.textContent = 'Retry';
      }finally{ btn.disabled = false; }
    });

    copyBtn.addEventListener('click', async () => {
      try{
        await navigator.clipboard.writeText(keyText.textContent);
        copyBtn.textContent = '‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å‡πÅ‡∏•‡πâ‡∏ß ‚úì';
        setTimeout(()=>copyBtn.textContent='‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å', 1200);
      }catch(e){ copyBtn.textContent='‡πÑ‡∏°‡πà‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à'; setTimeout(()=>copyBtn.textContent='‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å',1000); }
    });
  </script>
</body>
</html>
